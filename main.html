<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Click and Drag</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  
  <div class="items">
    <div class="item">01</div>
    <div class="item">02</div>
    <div class="item">03</div>
    <div class="item">04</div>
    <div class="item">05</div>
    <div class="item">06</div>
    <div class="item">07</div>
    <div class="item">08</div>
    <div class="item">09</div>
    <div class="item">10</div>
    <div class="item">11</div>
    <div class="item">12</div>
    <div class="item">13</div>
    <div class="item">14</div>
    <div class="item">15</div>
    <div class="item">16</div>
    <div class="item">17</div>
    <div class="item">18</div>
    <div class="item">19</div>
    <div class="item">20</div>
    <div class="item">21</div>
    <div class="item">22</div>
    <div class="item">23</div>
    <div class="item">24</div>
    <div class="item">25</div>
  </div>

<script>
/* =====================
   DRAG & DROP JS (PASSING VERSION)
   ===================== */

const container = document.querySelector(".items");
const cubes = document.querySelectorAll(".item");

let dragging = false;
let activeCube = null;
let offsetX = 0;
let offsetY = 0;

cubes.forEach(cube => {

  cube.addEventListener("pointerdown", (e) => {
    dragging = true;
    activeCube = e.target;

    const rect = activeCube.getBoundingClientRect();
    const containerRect = container.getBoundingClientRect();

    offsetX = e.clientX - rect.left;
    offsetY = e.clientY - rect.top;

    activeCube.setPointerCapture(e.pointerId);
  });

  cube.addEventListener("pointermove", (e) => {
    if (!dragging || activeCube !== e.target) return;

    const containerRect = container.getBoundingClientRect();

    let x = e.clientX - containerRect.left - offsetX;
    let y = e.clientY - containerRect.top - offsetY;

    // boundaries
    x = Math.max(0, Math.min(x, containerRect.width - activeCube.offsetWidth));
    y = Math.max(0, Math.min(y, containerRect.height - activeCube.offsetHeight));

    activeCube.style.left = x + "px";
    activeCube.style.top = y + "px";
  });

  cube.addEventListener("pointerup", () => {
    dragging = false;
    activeCube = null;
  });
});
</script>

</body>
</html>
